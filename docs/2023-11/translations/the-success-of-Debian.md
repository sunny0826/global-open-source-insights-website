---
sidebar_position: 1
sidebar_label: Debian的成功之路
---

# Debian的成功之路

## 为什么Debian是这样的？
Debian是一个大型的、复杂的操作系统，也是一个庞大的开源项目。到现在，已有30年的发展历史。
## Debian的目标
Debian的目标是成为一个高质量的、安全的通用操作系统，它是由免费和开源软件组成的Linux发行版，可运行在世界上大多数正在使用的计算机上。
这里提及的“通用”是指Debian适合于大多数人的大多数用途。不管出于什么原因，总会有不适合的情况，但这是一个很好的目标。其他的一些发行版的目标是基于某些特定的用途：台式机、服务器、玩游戏、科学研究等。选择通用或特定的目的都可以，但目标的选择不同会导致相关的决定不同。
对于Debian而言，“通用”意味着Debian不会根据软件的用途来选择相应的软件包。其唯一真正的选择是软件是否免费，以及Debian是否有可能维护一个高质量的软件包。
## 章程、权力结构、管理
Debian是比较民主的开源组织之一。它有明确的决策流程，每年选举一位项目负责人。项目负责人的权力会受到严格限制，多数与领导权相关的权力会明确授权给其他人。
这一点的历史背景是，Debian项目的第一任领导者在下台之前都是隐性的全能独裁者。下台之后，开始实行民主制度。于是，项目设立正式的章程，规定相关的项目规则。
Debian之所以这样，是因为较少的规则和较少的官僚主义在Debian的早期历史中并不奏效。
## 社会契约与Debian自由软件指南
20世纪90年代中期，在开放源码一词出现之前，自由软件基金会（Free Software Foundation）对“自由软件”进行了定义，但其中有许多有待解释的地方。Debian希望有更明确的规则，于是制定了《Debian自由软件指南》，并将其作为社会契约的一部分。
社会契约是关于Debian是什么和做什么的承诺。DFSG就是其中的一部分，它是Debian的基础文件，Debian的相关章程使修改它变得十分困难。
更详细的规则使Debian可以接受的内容更加明确，并简化了相关讨论。当然，仍有许多问题需要讨论。DFSG后来成为开源定义的基础。
## 自成一体
Debian坚持自成一体。任何由Debian打包的Debian软件，都必须仅使用Debian的依赖项进行构建（编译）。此外，Debian中的所有内容都必须由Debian构建。这会造成大量额外工作。例如，当前的编程语言工具通常假定它可以在构建时从在线资源库中下载依赖项，这对于Debian来说是不可接受的。
其主要原因是，依赖项以后可能无法使用。Debian无法控制第三方软件包库，如果某个软件包或整个软件包库消失，Debian可能无法重建该软件包。Debian需要重建软件包来升级到新的编译器、修复安全问题、移植到新的体系结构，或者只是对软件包进行一些修改，包括错误修复。
如果Debian不是自足的，那么当需要发布紧急安全修复时，它就会受到数以万计的软件包及其所有依赖软件的摆布。这对Debian来说是不可接受的，因此Debian选择将所有依赖包打包。无捆绑库
Debian避免使用与软件包捆绑在一起的库副本或其他依赖项。许多上游项目发现捆绑或“供应商”依赖关系更容易，但对Debian而言，这意味着一些流行库可能有许多副本。当需要修复此类库中的安全问题或其他严重问题时，Debian必须找到所有拷贝来修复它们。这可能是一项繁重的工作，而且如果安全问题十分紧急，这样做会浪费宝贵的时间。
举个例子：zlib 被大量项目使用。就其本质而言，它需要处理的数据可能会被用来利用库中的漏洞。这种情况已经发生。有一次，Debian 在其归档文件中发现了数十个捆绑的 zlib 副本，并花费了大量精力确保 Debian 中的软件包只使用打包版本的zlib。
因此，Debian选择在软件打包时，在紧急之前先下手为强，确保 Debian 中的软件包使用Debian中打包的库版本。
这并不总能得到上游开发者的赞赏，他们更希望只需要处理他们打包的库版本。这也是他们验证自己软件的版本。这有时会导致与Debian的摩擦。
当然，这也意味着Debian打包工作会非常繁重。
## 成员程序
鉴于Debian作为操作系统的规模和复杂性，以及它的受欢迎程度，项目需要信任它的成员。这尤其意味着要信任那些上传新软件包的人。由于20世纪90年代Linux的技术限制，每个Debian软件包在安装过程中都有完全的 root 访问权限。换句话说，每一个Debian开发者都有可能成为任何一台运行Debian的机器的root用户。运行 Debian 的机器数以千万计，这意味着潜在的巨大能量。
Debian通过各种方式审查新成员。最理想的情况是，每一位新成员都已经在 Debian 开发社区中工作了足够长的时间，以至于被其他人所熟知，并在社区中建立了信任。
对于那些想要加入 Debian 的人来说，这个过程可能相当令人沮丧，尤其是对于那些习惯于小型开源项目的人来说。
## 版本代号
Debian通常使用代号来指代它的发行版本，其初衷是为了降低Debian软件包镜像存档的成本。
20世纪90年代中期，当Debian即将发布1.0版本时，就不再使用代码名了。取而代之的是，存档中的每个版本都有一个以版本命名的目录。开发一个新版本需要一段时间，因此“1.0”目录是提前创建的。不幸的是，一家光盘出版商在Debian完成1.0版本的制作之前，过早地大量生产了一张光盘，并将其标注为1.0。这意味着，拿到Debian 1.0光盘的人得到的实际上并不是1.0。
要避免这种情况再次发生，一个显而易见的办法是将发行版放在一个名为 “1.0-not-released ”的目录下，并在发行版完成后将该目录重命名为“1.0”。然而，这意味着当目录名改变时，所有镜像都必须重新下载发布版本。考虑到 Debian 的庞大体积（数百个软件包！数十兆字节！），这样做的成本会很高。因此，Debian选择使用代号来代替。
后来，“池”结构被添加到Debian档案中。有了这种结构，所有发行版的文件都在同一个目录树中，而元数据文件则指定了哪些文件属于每个发行版。这让镜像变得更容易。现在也许可以取消代码名，只使用版本名，但我不知道Debian是否会对此感兴趣。
## 变化缓慢
大船停得慢。大型项目变化缓慢。Debian中任何影响到大部分软件包的变化都可能需要数百名志愿者来完成。这不会很快发生。
有时，只需少量人员就能完成工作，Debian有相应的流程来实现这一点。举例来说，如果上传了新版本的GNU C编译器，那么找出其他软件包中需要修正的地方的工作通常只需要几个人就能完成。
通常情况下，修改需要时间，因为需要达成共识，而这就需要广泛的讨论，这需要时间，而且很少有人能在短时间内完成。
这也意味着Debian开发人员在技术决策上倾向于保守。他们通常倾向于不需要大规模改动的解决方案。